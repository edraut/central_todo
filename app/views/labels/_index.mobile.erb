<div id="all_labels" class="pager" data-children_pages="({<% if @this_user.labels.any? %>'<%= multiple_labels_url(:ids => @this_user.labels.ordered.map{|t| t.id}.join(',')) %>':'multiple_labels_page_<%= @this_user.labels.ordered.map{|t| t.id}.join('_') %>'<% end %>})">
<div class="page_layout">
<div class="row">
  <div class="row_item">
    <h2>Labels</h2>
  </div>
  <div class="row_item">&nbsp;&nbsp;</div>
  <div class="row_item control_font button round circle color2 " onclick="void(0)" data-behavior="expander" data-action="expand" data-state="contracted" data-id="new_label_form" data-button="true">+</div>
</div>
<div class="block">
  <div class="dialog" data-behavior="expander" data-state="expanded" data-id="new_label_form" data-style="visibility" style="visibility:hidden;">
    <h2>Add a Label</h2>
  	<% form_for @label, :url => labels_url do |f| %>
  			<%= f.text_field :title, :class => "span-9" %>
  			<%= f.hidden_field :user_id %>
        <div class="row">
        	<div onclick="void(0)" class="row_item button round small light" data-button="true" data-submit="true">save</div>
          <div class="row_item small padding_top_button" onclick="void(0)" data-behavior="expander" data-action="contract" data-state="expanded" data-id="new_label_form" style="display: none;" data-button="true">&nbsp;or (close)</div>
        </div>
  	<% end %>
  </div>
  <% if @this_user.labels.count > 0 %>
  <div class="list_container">
	<% for label in @this_user.labels.ordered %>
		<div id="label_<%= label.id %>" class="row border_bottom">
	    <div class="padding">
		    <div class="row_item line_item_height eighty_eight">
  		    <div class="label <%= label.color %>">
      			<%= label.title %>
      		</div>
        </div>
        <div class="row_item twelve line_item_height">
    			<div onclick="void(0)" data-page_turner="true" data-page_target="label_page_<%= label.id %>" data-page_loader="multiple_labels_page_<%= @this_user.labels.ordered.map{|t| t.id}.join('_') %>" style="visibility:hidden;">
            &nbsp;&nbsp;&rang;
    			</div>
        </div>
			</div>
		</div>
	<% end %>
</div>
<% else %>
  <div class="section">
  	<h2>You haven't created any labels yet</h2>
  </div>
  <% if @this_user.show_help_text %>
  <div class="section">
    <p class="explanatory">
    Labels are places or objects which are necessary to complete a task. They are different from projects because tasks that belong to a project are related by a common goal, while tasks that belong to a label are only related by the place or object required.<br/>&nbsp;<br/>
    If I'm building a new dining table, I might create a Dining Table project. Within that project I might list tasks like 'design table', 'research building materials', 'buy materials', and 'build table'. Those tasks are all related by the goal of building a new dining table. I might need to be at my desk to design the table, but I might need to be on the phone to research building materials, and I might need to be in my car to buy the materials. 'Desk', 'Phone', and 'Car' are all examples of Labels you might want to create and use.<br/>&nbsp;<br/>
    I might also be planning a party around the same time as I'm building my dining table. 'Invite guests' might require that I be at my desk, while 'research party supplies' might require that I be on my phone, and 'buy party supplies' might require that I be in my car.<br/>&nbsp;<br/>
    If I've added all the party planning and dining table tasks to the appropriate labels, the next time I've got some time at my desk I could design my table and invite my guests. Later I have some time with my phone so I research dining table materials and party supplies. The next day I have some time in my car so I buy the materials for my table and party supplies. I've become more efficient by using Labels.
    </p>
  </div>
  <% end %>
<% end %>
</div>
</div>
</div>
